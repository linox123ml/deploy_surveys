var Ie=Object.defineProperty;var Ce=(e,d,v)=>d in e?Ie(e,d,{enumerable:!0,configurable:!0,writable:!0,value:v}):e[d]=v;var ie=(e,d,v)=>(Ce(e,typeof d!="symbol"?d+"":d,v),v);import{I as ue,d as se,r as S,b as O,K as F,p as De,e as be,O as me,Q as xe,F as q,w as fe,f as $e,n as ee,i as Te,o as g,c as B,m as ge,A as Pe,R as Ue,a as i,t as C,l as K,j as E,g as T,h as N,u as j,q as le,S as ye,x as J,k as Ee,U as Ve,C as Ae,y as je,V as Be,W as Fe,X as Ne,T as Le,Y as he,P as W,M as Me}from"./index-9553b662.js";import{r as qe,n as ze,S as Qe,_ as Ke}from"./HModal-fd9dd2c5.js";import{_ as we}from"./IndexSurvey-ab0510e0.js";import{d as Ge,e as He,_ as Xe,r as Ye,b as Ze,a as pe}from"./HSelect-2619ba9c.js";import{u as Y,o as L,F as Je,c as We,l as de,K as et,H as ne,T as _e,t as ve,N as ce,p as tt,O as at,a as Q}from"./use-outside-click-78cf4197.js";import{x as lt,a as M,b as ot,u as it}from"./use-text-value-079c8f23.js";import{p as st}from"./use-tree-walker-9a9677dd.js";import{f as nt,a as rt,_ as te}from"./InputForm-5e14c595.js";class Se{constructor(){ie(this,"getDepartamentos",async()=>(await ue.get("https://service2.unap.edu.pe/SURVEY_PLACES/v1/departments/")).data.data);ie(this,"getProvincias",async d=>(await ue.get(`https://service2.unap.edu.pe/SURVEY_PLACES/v1/provinces/${d}/`)).data.data);ie(this,"getDistritos",async d=>(await ue.get(`https://service2.unap.edu.pe/SURVEY_PLACES/v1/districts/${d}/`)).data.data);ie(this,"getUbigeo",async d=>{try{return(await ue.get(`https://service2.unap.edu.pe/SURVEY_PLACES/v1/${d}/`)).data.data[0]}catch{return null}})}}function ut(e,d){return e===d}var dt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(dt||{}),ct=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ct||{}),pt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(pt||{});let Re=Symbol("ComboboxContext");function re(e){let d=Te(Re,null);if(d===null){let v=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(v,re),v}return d}let vt=se({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>ut},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:d,attrs:v,emit:x}){let l=S(1),a=S(null),r=S(null),c=S(null),n=S(null),p=S({static:!1,hold:!1}),y=S([]),V=S(null),$=S(1),R=S(!1);function h(m=w=>w){let w=V.value!==null?y.value[V.value]:null,_=at(m(y.value.slice()),I=>L(I.dataRef.domRef)),o=w?_.indexOf(w):null;return o===-1&&(o=null),{options:_,activeOptionIndex:o}}let f=O(()=>e.multiple?1:0),s=O(()=>e.nullable),[k,D]=Ge(O(()=>e.modelValue===void 0?Y(f.value,{[1]:[],[0]:void 0}):e.modelValue),m=>x("update:modelValue",m),O(()=>e.defaultValue)),u={comboboxState:l,value:k,mode:f,compare(m,w){if(typeof e.by=="string"){let _=e.by;return(m==null?void 0:m[_])===(w==null?void 0:w[_])}return e.by(m,w)},defaultValue:O(()=>e.defaultValue),nullable:s,inputRef:r,labelRef:a,buttonRef:c,optionsRef:n,disabled:O(()=>e.disabled),options:y,change(m){D(m)},activeOptionIndex:O(()=>{if(R.value&&V.value===null&&y.value.length>0){let m=y.value.findIndex(w=>!w.dataRef.disabled);m!==-1&&(V.value=m)}return V.value}),activationTrigger:$,optionsPropsRef:p,closeCombobox(){R.value=!1,!e.disabled&&l.value!==1&&(l.value=1,V.value=null)},openCombobox(){if(R.value=!0,e.disabled||l.value===0)return;let m=y.value.findIndex(w=>{let _=F(w.dataRef.value);return Y(f.value,{[0]:()=>u.compare(F(u.value.value),F(_)),[1]:()=>F(u.value.value).some(o=>u.compare(F(o),F(_)))})});m!==-1&&(V.value=m),l.value=0},goToOption(m,w,_){if(R.value=!1,e.disabled||n.value&&!p.value.static&&l.value===1)return;let o=h();if(o.activeOptionIndex===null){let A=o.options.findIndex(H=>!H.dataRef.disabled);A!==-1&&(o.activeOptionIndex=A)}let I=lt(m===M.Specific?{focus:M.Specific,id:w}:{focus:m},{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:A=>A.id,resolveDisabled:A=>A.dataRef.disabled});V.value=I,$.value=_??1,y.value=o.options},selectOption(m){let w=y.value.find(o=>o.id===m);if(!w)return;let{dataRef:_}=w;D(Y(f.value,{[0]:()=>_.value,[1]:()=>{let o=F(u.value.value).slice(),I=F(_.value),A=o.findIndex(H=>u.compare(I,F(H)));return A===-1?o.push(I):o.splice(A,1),o}}))},selectActiveOption(){if(u.activeOptionIndex.value===null)return;let{dataRef:m,id:w}=y.value[u.activeOptionIndex.value];D(Y(f.value,{[0]:()=>m.value,[1]:()=>{let _=F(u.value.value).slice(),o=F(m.value),I=_.findIndex(A=>u.compare(o,F(A)));return I===-1?_.push(o):_.splice(I,1),_}})),u.goToOption(M.Specific,w)},registerOption(m,w){let _={id:m,dataRef:w},o=h(I=>[...I,_]);if(V.value===null){let I=w.value.value;Y(f.value,{[0]:()=>u.compare(F(u.value.value),F(I)),[1]:()=>F(u.value.value).some(A=>u.compare(F(A),F(I)))})&&(o.activeOptionIndex=o.options.indexOf(_))}y.value=o.options,V.value=o.activeOptionIndex,$.value=1,o.options.some(I=>!L(I.dataRef.domRef))&&requestAnimationFrame(()=>{let I=h();y.value=I.options,V.value=I.activeOptionIndex})},unregisterOption(m){var w;u.activeOptionIndex.value!==null&&((w=u.options.value[u.activeOptionIndex.value])==null?void 0:w.id)===m&&(R.value=!0);let _=h(o=>{let I=o.findIndex(A=>A.id===m);return I!==-1&&o.splice(I,1),o});y.value=_.options,V.value=_.activeOptionIndex,$.value=1}};Je([r,c,n],()=>u.closeCombobox(),O(()=>l.value===0)),De(Re,u),We(O(()=>Y(l.value,{[0]:de.Open,[1]:de.Closed})));let b=O(()=>u.activeOptionIndex.value===null?null:y.value[u.activeOptionIndex.value].dataRef.value),t=O(()=>{var m;return(m=L(r))==null?void 0:m.closest("form")});return be(()=>{me([t],()=>{if(!t.value||e.defaultValue===void 0)return;function m(){u.change(e.defaultValue)}return t.value.addEventListener("reset",m),()=>{var w;(w=t.value)==null||w.removeEventListener("reset",m)}},{immediate:!0})}),()=>{let{name:m,disabled:w,form:_,...o}=e,I={open:l.value===0,disabled:w,activeIndex:u.activeOptionIndex.value,activeOption:b.value,value:k.value};return xe(q,[...m!=null&&k.value!=null?He({[m]:k.value}).map(([A,H])=>xe(nt,et({features:rt.Hidden,key:A,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:_,name:A,value:H}))):[],ne({theirProps:{...v,..._e(o,["modelValue","defaultValue","nullable","multiple","onUpdate:modelValue","by"])},ourProps:{},slot:I,slots:d,attrs:v,name:"Combobox"})])}}}),mt=se({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-combobox-button-${ve()}`}},setup(e,{attrs:d,slots:v,expose:x}){let l=re("ComboboxButton");x({el:l.buttonRef,$el:l.buttonRef});function a(n){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(n.preventDefault(),l.openCombobox()),ee(()=>{var p;return(p=L(l.inputRef))==null?void 0:p.focus({preventScroll:!0})}))}function r(n){switch(n.key){case Q.ArrowDown:n.preventDefault(),n.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),ee(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case Q.ArrowUp:n.preventDefault(),n.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),ee(()=>{l.value.value||l.goToOption(M.Last)})),ee(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case Q.Escape:if(l.comboboxState.value!==0)return;n.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&n.stopPropagation(),l.closeCombobox(),ee(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return}}let c=ot(O(()=>({as:e.as,type:d.type})),l.buttonRef);return()=>{var n,p;let y={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{id:V,...$}=e,R={ref:l.buttonRef,id:V,type:c.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(n=L(l.optionsRef))==null?void 0:n.id,"aria-expanded":l.disabled.value?void 0:l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(p=L(l.labelRef))==null?void 0:p.id,V].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:r,onClick:a};return ne({ourProps:R,theirProps:$,slot:y,attrs:d,slots:v,name:"ComboboxButton"})}}}),ft=se({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:()=>`headlessui-combobox-input-${ve()}`}},emits:{change:e=>!0},setup(e,{emit:d,attrs:v,slots:x,expose:l}){let a=re("ComboboxInput"),r={value:!1};l({el:a.inputRef,$el:a.inputRef});let c=O(()=>{var s;let k=a.value.value;return L(a.inputRef)?typeof e.displayValue<"u"&&k!==void 0?(s=e.displayValue(k))!=null?s:"":typeof k=="string"?k:"":""});be(()=>{me([c,a.comboboxState],([s,k],[D,u])=>{if(r.value)return;let b=L(a.inputRef);b&&(u===0&&k===1||s!==D)&&(b.value=s)},{immediate:!0}),me([a.comboboxState],([s],[k])=>{if(s===0&&k===1){let D=L(a.inputRef);if(!D)return;let u=D.value,{selectionStart:b,selectionEnd:t,selectionDirection:m}=D;D.value="",D.value=u,m!==null?D.setSelectionRange(b,t,m):D.setSelectionRange(b,t)}})});let n=S(!1),p=S(null);function y(){n.value=!0}function V(){qe().nextFrame(()=>{n.value=!1,p.value&&(a.openCombobox(),d("change",p.value),p.value=null)})}function $(s){switch(r.value=!0,s.key){case Q.Backspace:case Q.Delete:if(a.mode.value!==0||!a.nullable.value)return;let k=s.currentTarget;requestAnimationFrame(()=>{if(k.value===""){a.change(null);let D=L(a.optionsRef);D&&(D.scrollTop=0),a.goToOption(M.Nothing)}});break;case Q.Enter:if(r.value=!1,a.comboboxState.value!==0||n.value)return;if(s.preventDefault(),s.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case Q.ArrowDown:return r.value=!1,s.preventDefault(),s.stopPropagation(),Y(a.comboboxState.value,{[0]:()=>a.goToOption(M.Next),[1]:()=>a.openCombobox()});case Q.ArrowUp:return r.value=!1,s.preventDefault(),s.stopPropagation(),Y(a.comboboxState.value,{[0]:()=>a.goToOption(M.Previous),[1]:()=>{a.openCombobox(),ee(()=>{a.value.value||a.goToOption(M.Last)})}});case Q.Home:if(s.shiftKey)break;return r.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(M.First);case Q.PageUp:return r.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(M.First);case Q.End:if(s.shiftKey)break;return r.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(M.Last);case Q.PageDown:return r.value=!1,s.preventDefault(),s.stopPropagation(),a.goToOption(M.Last);case Q.Escape:if(r.value=!1,a.comboboxState.value!==0)return;s.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&s.stopPropagation(),a.closeCombobox();break;case Q.Tab:if(r.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.selectActiveOption(),a.closeCombobox();break}}function R(s){if(n.value){p.value=s;return}a.openCombobox(),d("change",s)}function h(){r.value=!1}let f=O(()=>{var s,k,D,u;return(u=(D=(k=e.defaultValue)!=null?k:a.defaultValue.value!==void 0?(s=e.displayValue)==null?void 0:s.call(e,a.defaultValue.value):null)!=null?D:a.defaultValue.value)!=null?u:""});return()=>{var s,k,D,u,b,t;let m={open:a.comboboxState.value===0},{id:w,displayValue:_,onChange:o,...I}=e,A={"aria-controls":(s=a.optionsRef.value)==null?void 0:s.id,"aria-expanded":a.disabled.value?void 0:a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null||(k=a.options.value[a.activeOptionIndex.value])==null?void 0:k.id,"aria-labelledby":(b=(D=L(a.labelRef))==null?void 0:D.id)!=null?b:(u=L(a.buttonRef))==null?void 0:u.id,"aria-autocomplete":"list",id:w,onCompositionstart:y,onCompositionend:V,onKeydown:$,onInput:R,onBlur:h,role:"combobox",type:(t=v.type)!=null?t:"text",tabIndex:0,ref:a.inputRef,defaultValue:f.value,disabled:a.disabled.value===!0?!0:void 0};return ne({ourProps:A,theirProps:I,slot:m,attrs:v,slots:x,features:ce.RenderStrategy|ce.Static,name:"ComboboxInput"})}}}),bt=se({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:d,slots:v,expose:x}){let l=re("ComboboxOptions"),a=`headlessui-combobox-options-${ve()}`;x({el:l.optionsRef,$el:l.optionsRef}),fe(()=>{l.optionsPropsRef.value.static=e.static}),fe(()=>{l.optionsPropsRef.value.hold=e.hold});let r=tt(),c=O(()=>r!==null?(r.value&de.Open)===de.Open:l.comboboxState.value===0);return st({container:O(()=>L(l.optionsRef)),enabled:O(()=>l.comboboxState.value===0),accept(n){return n.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:n.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(n){n.setAttribute("role","none")}}),()=>{var n,p,y;let V={open:l.comboboxState.value===0},$={"aria-labelledby":(y=(n=L(l.labelRef))==null?void 0:n.id)!=null?y:(p=L(l.buttonRef))==null?void 0:p.id,id:a,ref:l.optionsRef,role:"listbox","aria-multiselectable":l.mode.value===1?!0:void 0},R=_e(e,["hold"]);return ne({ourProps:$,theirProps:R,slot:V,attrs:d,slots:v,features:ce.RenderStrategy|ce.Static,visible:c.value,name:"ComboboxOptions"})}}}),gt=se({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:d,attrs:v,expose:x}){let l=re("ComboboxOption"),a=`headlessui-combobox-option-${ve()}`,r=S(null);x({el:r,$el:r});let c=O(()=>l.activeOptionIndex.value!==null?l.options.value[l.activeOptionIndex.value].id===a:!1),n=O(()=>Y(l.mode.value,{[0]:()=>l.compare(F(l.value.value),F(e.value)),[1]:()=>F(l.value.value).some(s=>l.compare(F(s),F(e.value)))})),p=O(()=>({disabled:e.disabled,value:e.value,domRef:r}));be(()=>l.registerOption(a,p)),$e(()=>l.unregisterOption(a)),fe(()=>{l.comboboxState.value===0&&c.value&&l.activationTrigger.value!==0&&ee(()=>{var s,k;return(k=(s=L(r))==null?void 0:s.scrollIntoView)==null?void 0:k.call(s,{block:"nearest"})})});function y(s){if(e.disabled)return s.preventDefault();l.selectOption(a),l.mode.value===0&&l.closeCombobox(),ze()||requestAnimationFrame(()=>{var k;return(k=L(l.inputRef))==null?void 0:k.focus()})}function V(){if(e.disabled)return l.goToOption(M.Nothing);l.goToOption(M.Specific,a)}let $=it();function R(s){$.update(s)}function h(s){$.wasMoved(s)&&(e.disabled||c.value||l.goToOption(M.Specific,a,0))}function f(s){$.wasMoved(s)&&(e.disabled||c.value&&(l.optionsPropsRef.value.hold||l.goToOption(M.Nothing)))}return()=>{let{disabled:s}=e,k={active:c.value,selected:n.value,disabled:s},D={id:a,ref:r,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":n.value,disabled:void 0,onClick:y,onFocus:V,onPointerenter:R,onMouseenter:R,onPointermove:h,onMousemove:h,onPointerleave:f,onMouseleave:f};return ne({ourProps:D,theirProps:e,slot:k,attrs:v,slots:d,name:"ComboboxOption"})}}});const ae=e=>!(e===""||e===null),xt=e=>{let d=/^[0-9]+$/;return!!e.match(d)},yt=(e,d)=>e.length<=d,ht=e=>{let d=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return!!e.match(d)},wt=["disabled","id","value","name"],Vt=["for"],ke={__name:"RadioGroupForm",props:{questionId:String,options:Array,isDisabled:Boolean,modelValue:{type:[Number,Object,String,Array],default:null}},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>(g(!0),B(q,null,ge(e.options,(r,c)=>(g(),B("div",{key:r.title,class:"flex items-center my-3"},[Pe(i("input",{disabled:e.isDisabled,id:`radio-${c}${e.questionId}`,type:"radio",value:r.id,"onUpdate:modelValue":a[0]||(a[0]=n=>x.value=n),name:`name-${c}${e.questionId}`,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,wt),[[Ue,x.value]]),i("label",{for:`radio-${c}${e.questionId}`,class:"ml-2 text-sm font-medium text-gray-900 dark:text-gray-300 first-letter:uppercase"},C(r.title),9,Vt)]))),128))}},_t={class:"grid grid-cols-4"},St={class:"col-span-4 text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},Rt={class:"text-red-700"},kt={class:"w-full text-start first-letter:uppercase"},Ot={class:"text-xs text-gray-600"},It={class:"relative col-span-4 mt-1 rounded-md ms-4"},Ct={class:"col-span-4 text-end"},Dt={class:"text-xs text-red-600"},$t={__name:"OneSelection",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},isDisabled:Boolean,placeholder:String,question:Object,helperText:String},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>{var r;return g(),B("div",_t,[i("div",St,[K(C(e.question.statement)+" ",1),i("span",Rt,C(e.question.isRequired==="true"?"*":""),1)]),i("div",kt,[i("span",Ot,C(e.question.helpQuestion),1)]),i("div",It,[E(ke,{isDisabled:e.isDisabled,questionId:e.question.id,options:e.question.options,modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=c=>x.value=c)},null,8,["isDisabled","questionId","options","modelValue"])]),i("div",Ct,[i("span",Dt,C((r=e.question.error)==null?void 0:r.text),1)])])}}},Tt={class:"grid grid-cols-4"},Pt={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},Ut={class:"text-red-600 font-mono"},Et={class:"relative mt-1 rounded-md col-span-4 ps-4"},At={class:"col-span-4 text-end"},jt={class:"text-xs text-red-600"},Bt={__name:"MultipleSelection",props:{modelValue:{type:[Array,String]},question:Object},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>{var r;return g(),B("div",Tt,[i("label",Pt,[K(C(e.question.statement)+" ",1),i("span",Ut,C(e.question.isRequired==="true"?"*":""),1)]),i("div",Et,[E(Xe,{questionIndex:e.question.id,options:e.question.options,modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=c=>x.value=c)},null,8,["questionIndex","options","modelValue"])]),i("div",At,[i("span",jt,C((r=e.question.error)==null?void 0:r.text),1)])])}}},Ft={class:"relative mt-1 first-letter:uppercase"},Nt={class:"block text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},Lt={class:"relative w-full cursor-default overflow-hidden sm:text-sm"},Mt={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},oe={__name:"HAutoComplete",props:{itemValue:{type:String,default:"id"},itemTitle:{type:String,default:"title"},modelValue:{type:[String,Number,Object],default:null},items:{type:Array,required:!0},label:{type:String},error:{type:Boolean,default:!1},placeholder:{type:String},isDisabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:d}){const v=e;S(!0);const x=O({get:()=>v.modelValue,set:c=>d("update:modelValue",c)});let l=S(""),a=S(!1),r=O(()=>l.value===""?[]:v.items.filter(c=>c[`${v.itemTitle}`].toLowerCase().replace(/\s+/g,"").includes(l.value.toLowerCase().replace(/\s+/g,""))));return(c,n)=>(g(),T(j(vt),{modelValue:x.value,"onUpdate:modelValue":n[2]||(n[2]=p=>x.value=p)},{default:N(()=>[i("div",Ft,[i("label",Nt,C(e.label),1),i("div",Lt,[E(j(ft),{class:le([e.error&&j(a)&&!x.value?"ring-red-600":"ring-gray-300","capitalize w-full bg-gray-50 border-gray-300 border-none p-2.5 text-sm leading-5 text-gray-900 ring-1 ring-inset placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 rounded-md"]),displayValue:p=>p==null?void 0:p[`${e.itemTitle}`],onChange:n[0]||(n[0]=p=>ye(l)?l.value=p.target.value:l=p.target.value),placeholder:e.placeholder},null,8,["class","displayValue","placeholder"]),E(j(mt),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:N(()=>[E(j(Ye),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),E(j(Qe),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:n[1]||(n[1]=p=>ye(l)?l.value="":l="")},{default:N(()=>[E(j(bt),{class:"absolute z-50 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:N(()=>[j(r).length===0&&j(l)!==""?(g(),B("div",Mt," Sin datos ")):J("",!0),(g(!0),B(q,null,ge(j(r),p=>(g(),T(j(gt),{as:"template",key:p[`${e.itemValue}`],value:p,disabled:e.isDisabled},{default:N(({selected:y,active:V})=>[i("li",{class:le(["relative cursor-default select-none py-2 pl-10 pr-4",{"bg-teal-600 text-white":V,"text-gray-900":!V}])},[i("span",{class:le(["block truncate first-letter:uppercase",{"font-medium":y,"font-normal":!y}])},C(p[`${e.itemTitle}`]),3),y?(g(),B("span",{key:0,class:le(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":V,"text-teal-600":!V}])},[E(j(Ze),{class:"h-5 w-5","aria-hidden":"true"})],2)):J("",!0)],2)]),_:2},1032,["value","disabled"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]))}},qt={class:"block text-sm font-medium leading-6 text-gray-900 first-letter:uppercase"},zt={class:"text-red-600 font-mono"},Qt={class:"grid grid-cols-3 gap-x-5"},Kt={class:"col-span-3 mt-2"},Gt={__name:"UbigeoOtherForm",props:{modelValue:[Number,Object,String,Array],question:[Object,Array],isReadonly:Boolean,error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(e,{emit:d}){const v=e,x=new Se,l=O({get:()=>v.modelValue,set:h=>d("update:modelValue",h)}),a=S([]),r=S([]),c=S([]),n=S({departamento:null,provincia:null,distrito:null}),p=async h=>{n.value.provincia=null,r.value=[],n.value.distrito=null,c.value=[],r.value=await x.getProvincias(h.code),d("update:modelValue",null)},y=async h=>{d("update:modelValue",null),c.value=[],n.value.distrito=null,c.value=await x.getDistritos(h.code)},V=async h=>{let f=await x.getUbigeo(h[0]);n.value.departamento={code:f.idDepartment,title:f.department},n.value.provincia={code:f.idProvince,title:f.province},n.value.distrito={code:f.idDistrict,title:f.district},v.question.other=h[1]},$=async()=>{a.value.length==0&&(a.value=await x.getDepartamentos())};return(async()=>{let h=l.value;h&&(h=h.split("%%%",2),await V(h))})(),(h,f)=>(g(),B(q,null,[i("label",qt,[K(C(e.question.statement)+" ",1),i("span",zt,C(e.question.isRequired==="true"?"*":""),1)]),i("div",Qt,[i("div",null,[E(oe,{placeholder:"Departamento",error:e.error,items:a.value,onMouseup:$,itemValue:"code",modelValue:n.value.departamento,"onUpdate:modelValue":[f[0]||(f[0]=s=>n.value.departamento=s),p]},null,8,["error","items","modelValue"])]),i("div",null,[E(oe,{error:e.error,items:r.value,itemValue:"code",placeholder:"Provincia",modelValue:n.value.provincia,"onUpdate:modelValue":[f[1]||(f[1]=s=>n.value.provincia=s),y]},null,8,["error","items","modelValue"])]),i("div",null,[E(oe,{error:e.error,items:c.value,itemValue:"code",placeholder:"Distrito",modelValue:n.value.distrito,"onUpdate:modelValue":[f[2]||(f[2]=s=>n.value.distrito=s),f[3]||(f[3]=s=>l.value=s.code)]},null,8,["error","items","modelValue"])]),i("div",Kt,[E(te,{"is-required":e.question.isRequired==="true",helperText:e.question.helpQuestion,modelValue:e.question.other,"onUpdate:modelValue":f[4]||(f[4]=s=>e.question.other=s),label:"Dirección"},null,8,["is-required","helperText","modelValue"])])])],64))}},Ht={class:"block text-sm font-medium leading-6 text-gray-900 capitalize"},Xt={class:"text-red-600 font-mono"},Yt={class:"grid grid-cols-3 gap-5"},Zt={__name:"UbigeoForm",props:{modelValue:[String,Number,Object,Array],question:[Object,Array],isReadonly:Boolean,error:{type:Boolean,default:!1}},emits:["update:modelValue","clickInput"],setup(e,{emit:d}){const v=e,x=new Se,l=O({get:()=>v.modelValue,set:h=>d("update:modelValue",h)}),a=S([]),r=S([]),c=S([]),n=S({departamento:null,provincia:null,distrito:null}),p=async h=>{n.value.provincia=null,r.value=[],n.value.distrito=null,c.value=[],r.value=await x.getProvincias(h.code),d("update:modelValue",null)},y=async h=>{d("update:modelValue",null),c.value=[],n.value.distrito=null,c.value=await x.getDistritos(h.code)},V=async()=>{a.value=await x.getDepartamentos()},$=async h=>{let f=await x.getUbigeo(h);n.value.departamento={code:f.idDepartment,title:f.department},n.value.provincia={code:f.idProvince,title:f.province},n.value.distrito={code:f.idDistrict,title:f.district}};return(async()=>{l.value&&await $(l.value)})(),(h,f)=>(g(),B(q,null,[i("label",Ht,[K(C(e.question.statement)+" ",1),i("span",Xt,C(e.question.isRequired==="true"?"*":""),1)]),i("div",Yt,[i("div",null,[E(oe,{placeholder:"Departamento",error:e.error,items:a.value,onMouseup:V,itemValue:"code",modelValue:n.value.departamento,"onUpdate:modelValue":[f[0]||(f[0]=s=>n.value.departamento=s),p],isDisabled:e.isReadonly},null,8,["error","items","modelValue","isDisabled"])]),i("div",null,[E(oe,{error:e.error,items:r.value,itemValue:"code",placeholder:"Provincia",modelValue:n.value.provincia,"onUpdate:modelValue":[f[1]||(f[1]=s=>n.value.provincia=s),y],isDisabled:e.isReadonly},null,8,["error","items","modelValue","isDisabled"])]),i("div",null,[E(oe,{error:e.error,items:c.value,itemValue:"code",placeholder:"Distrito",modelValue:n.value.distrito,"onUpdate:modelValue":[f[2]||(f[2]=s=>n.value.distrito=s),f[3]||(f[3]=s=>l.value=s.code)],isDisabled:e.isReadonly},null,8,["error","items","modelValue","isDisabled"])])])],64))}},Jt={__name:"StudyCycleForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object,isDisabled:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:a=>d("update:modelValue",a)}),l=[{id:1,title:"Semestre I"},{id:2,title:"Semestre II    "},{id:3,title:"Semestre III"},{id:4,title:"Semestre IV"},{id:5,title:"Semestre V"},{id:6,title:"Semestre VI"},{id:7,title:"Semestre VII"},{id:8,title:"Semestre VIII"},{id:9,title:"Semestre IX"},{id:10,title:"Semestre X"},{id:11,title:"Semestre XI"},{id:12,title:"Semestre XII"}];return(a,r)=>(g(),T(pe,{isDisabled:e.isDisabled,isRequired:e.question.isRequired==="true",modelValue:x.value,"onUpdate:modelValue":r[0]||(r[0]=c=>x.value=c),label:e.question.statement,error:e.question.error,options:l},null,8,["isDisabled","isRequired","modelValue","label","error"]))}},Wt=[{id:"001",title:"trabajo social"},{id:"003",title:"medicina veterinaria y zootecnía"},{id:"004",title:"medicina humana"},{id:"005",title:"ingeniería química"},{id:"006",title:"ingeniería mecánica, eléctrica, electrónica y sistemas"},{id:"007",title:"ingeniería geológica y metalúrgica"},{id:"008",title:"ingeniería estadística e informática"},{id:"009",title:"ingeniería económica"},{id:"010",title:"ingeniería de minas"},{id:"011",title:"ingeniería civil y arquitectura"},{id:"012",title:"ingeniería agrícola"},{id:"013",title:"ciencias sociales"},{id:"014",title:"enfermería"},{id:"015",title:"ciencias jurídicas y políticas"},{id:"016",title:"ciencias de la salud"},{id:"017",title:"ciencias de la educación"},{id:"018",title:"ciencias contables y administrativas"},{id:"019",title:"ciencias biológicas"},{id:"020",title:"ciencias agrarias"}],ea={__name:"FacuForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object,isDisabled:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>(g(),T(pe,{isDisabled:e.isDisabled,modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=r=>x.value=r),label:e.question.statement,error:e.question.error,options:j(Wt)},null,8,["isDisabled","modelValue","label","error","options"]))}},ta=[{id:"001",title:"administración"},{id:"002",title:"antropología"},{id:"003",title:"arquitectura y urbanismo"},{id:"004",title:"arte: artes plásticas"},{id:"005",title:"arte: danza"},{id:"006",title:"arte: música"},{id:"007",title:"arte: teatro"},{id:"008",title:"biología: ecología"},{id:"009",title:"biología: microbiología y laboratorio clínico"},{id:"010",title:"biología: pesquería"},{id:"011",title:"ciencias contables"},{id:"012",title:"ciencias de la comunicación social"},{id:"013",title:"ciencias físico matemáticas: física"},{id:"014",title:"ciencias físico matemáticas: matemáticas"},{id:"015",title:"derecho"},{id:"034",title:"educación física"},{id:"035",title:"educación inicial"},{id:"036",title:"educación primaria"},{id:"037",title:"educación secundaria de la especialidad de ciencia, tecnología y ambiente"},{id:"038",title:"educación secundaria de la especialidad de ciencias sociales"},{id:"039",title:"educación secundaria de la especialidad de lengua, literatura, psicología y filosofía"},{id:"040",title:"educación secundaria de la especialidad de matemática, física, computación e informática"},{id:"041",title:"enfermería"},{id:"042",title:"ingeniería agrícola"},{id:"043",title:"ingeniería agroindustrial"},{id:"044",title:"ingeniería agronómica"},{id:"045",title:"ingeniería civil"},{id:"046",title:"ingeniería de minas"},{id:"047",title:"ingeniería de sistemas"},{id:"048",title:"ingeniería económica"},{id:"049",title:"ingeniería electrónica"},{id:"050",title:"ingeniería estadística e informática"},{id:"051",title:"ingeniería geológica"},{id:"052",title:"ingeniería mecánica eléctrica"},{id:"053",title:"ingeniería metalúrgica"},{id:"054",title:"ingeniería química"},{id:"055",title:"ingeniería topográfica y agrimensura"},{id:"169",title:"medicina humana"},{id:"170",title:"medicina veterinaria y zootecnía"},{id:"171",title:"nutrición humana"},{id:"172",title:"odontología"},{id:"231",title:"sociología"},{id:"232",title:"trabajo social"},{id:"233",title:"turismo"}],aa={__name:"ProStudyForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object,isDisabled:Boolean},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>(g(),T(pe,{isDisabled:e.isDisabled,modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=r=>x.value=r),label:e.question.statement,error:e.question.error,options:j(ta)},null,8,["isDisabled","modelValue","label","error","options"]))}},la={class:"grid grid-cols-4"},oa={for:"price",class:"col-span-4 text-sm font-medium leading-6 text-gray-900 capitalize"},ia={class:"text-red-600 font-mono"},sa={class:"relative col-span-4 mt-1 rounded-md ms-4"},na={class:"col-span-4"},ra={class:"col-span-4 text-end"},ua={class:"text-xs text-red-600"},da={__name:"OneSelectionOtherForm",props:{modelValue:[Number,Object,String,Array],label:String,type:{default:"text",type:String},placeholder:String,question:Object},emits:["update:modelValue"],setup(e,{emit:d}){const v=e,x=O({get:()=>v.modelValue,set:l=>d("update:modelValue",l)});return(l,a)=>{var r;return g(),B("div",la,[i("label",oa,[K(C(e.question.statement)+" ",1),i("span",ia,C(e.question.isRequired==="true"?"*":""),1)]),i("div",sa,[E(ke,{questionId:e.question.id,options:e.question.options,modelValue:x.value,"onUpdate:modelValue":a[0]||(a[0]=c=>x.value=c)},null,8,["questionId","options","modelValue"])]),i("div",na,[E(te,{modelValue:e.question.answer.text,"onUpdate:modelValue":a[1]||(a[1]=c=>e.question.answer.text=c),label:"Especifique"},null,8,["modelValue"])]),i("div",ra,[i("span",ua,C((r=e.question.error)==null?void 0:r.text),1)])])}}},ca={class:"grid grid-cols-2 mt-4 bg-white mx-auto justify-center"},pa={class:"col-span-2 rounded-lg"},va=["id"],ma={class:"w-full text-end"},fa={class:"text-xs text-red-600"},ba={class:"w-full text-end"},ga={class:"text-xs text-red-600"},xa={class:"flex justify-end mt-4"},ya={__name:"Form",props:{questions:Array,section:Object},emits:["onSuccess","onFaild"],setup(e,{emit:d}){const v=e,x=new Ve,l=S(null),a=S({show:!1,text:null,type:"success"}),r=O(()=>v.questions),c=S(!0),n=u=>{r.value.map(b=>(b.isDependent==u.id&&(b.optionTrigger===u.answer.options||b.optionTrigger===null?b.show=!0:(b.answer=[],b.show=!1)),b))},p=(u,b,t=!1)=>{t&&n(b),b.isRequired==="true"&&y(u,b)},y=(u,b)=>{r.value.map(t=>{t.id===b.id&&(ae(u)?b.isRequired==="false"&&!ae(u)?(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!0,text:"Obligatorio"},c.value=!1))})},V=(u,b)=>{r.value.map(t=>{t.id==b.id&&(b.isRequired==="true"&&!ae(u)?(t.error={isError:!0,text:"Obligatorio"},c.value=!1):b.isRequired==="false"&&!ae(u)?(t.error={isError:!1,text:null},c.value=!0):ht(u)?(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!0,text:"Formato no valido"},c.value=!1))})},$=(u,b)=>{r.value.map(t=>{t.id==b.id&&(ae(u)?xt(u)?b.isRequired==="false"&&!ae(u)?(t.error={isError:!1,text:null},c.value=!0):yt(u,9)?(t.error={isError:!1,text:null},c.value=!0):(t.error={isError:!0,text:"Longitud debe se 9 digitos"},c.value=!1):(t.error={isError:!0,text:"Solo se permite numeros"},c.value=!1):(t.error={isError:!0,text:"Obligatorio"},c.value=!1))})},R=["78ae9492-a909-459f-ba53-15165c884d87","d2574937-e2fc-4eb5-b612-d767e3610a04","fb5c10df-f60d-4815-a007-a189e879054e","e8367e12-f088-4188-bed8-50342bac562c","c9175462-8e03-47b1-9450-2f126a1655c2","de9c81d9-87d5-4cf4-b2f0-5274399ff94c","a3056caa-84a9-44a0-9ee5-46a59ad3f073","ab123cd2-c64d-44d2-8023-af2849bf6f9d","bd4313bd-1709-4bfd-8fae-bfe2eb6e5d05","2cb7930e-344f-4371-a2d1-da1579bfe33e","16373178-2cb7-4a9e-be10-33d1145fcb48","85c4a938-b006-45a8-bdbd-1c4223656ab6","50af5759-8009-4419-bfc2-8df851be62b1","4d36be9a-1567-4d80-a726-a5a1bc2a33c7","36f9a47d-457d-4052-ab25-47b4decb887f","574ba955-5176-4997-8e34-42524cafa862","6bc3b523-2a89-423d-99bf-53692c004633"],h=()=>{let u={section_:v.section.id,answers_:[]};const b=[1,2,3,5,8,9,10,20,50],t=[0,4],m=[6],w=[11],_=[30];return r.value.forEach(o=>{var I;if((!o.isDependent||o.show)&&!R.includes(o.id))if(b.includes(o.type))u.answers_.push({qst_:o.id,opts_:null,txt_:o.answer.text});else if(t.includes(o.type))u.answers_.push({qst_:o.id,opts_:[o.answer.options],txt_:null});else if(m.includes(o.type))u.answers_.push({qst_:o.id,opts_:Array.isArray(o.answer.options)?o.answer.options:(I=o.answer.options)==null?void 0:I.split(","),txt_:null});else if(w.includes(o.type)){let A=o.answer.text.split("%%%",2);u.answers_.push({qst_:o.id,opts_:null,txt_:A[0]+"%%%"+o.other})}else _.includes(o.type)&&u.answers_.push({qst_:o.id,opts_:[o.answer.options],txt_:o.answer.text})}),u},f=S([]),s=()=>{var u=0;return f.value=[],r.value.forEach(b=>{var t,m,w,_,o;!((t=b.answer)!=null&&t.text)&&((m=b.answer)!=null&&m.options&&Array.isArray((w=b.answer)==null?void 0:w.options)&&((_=b.answer)==null?void 0:_.options.length)===0||!((o=b.answer)!=null&&o.options))&&b.isRequired==="true"&&(!b.isDependent||b.show)?(b.error={isError:!0,text:"Obligatorio"},f.value.push(b.id),u++):b.error={isError:!1,text:null}}),!(u>0)},k=async()=>{if(s()){let b=h(),t=await x.saveSection(b);return a.value.show=!0,a.value.text="Datos actualizados",a.value.type="success",d("onSuccess",a.value),t}return document.getElementById(f.value[0]).scrollIntoView("smooth"),console.error("Error ..."),a.value.show=!0,a.value.text="Responda las preguntas de manera correcta",a.value.type="danger",d("onFaild",a.value),!1};return(async()=>{r.value.forEach(u=>{n(u)})})(),(u,b)=>(g(),B("div",ca,[i("div",pa,[i("ul",{ref_key:"refList",ref:l,class:""},[(g(!0),B(q,null,ge(r.value,(t,m)=>{var w,_;return g(),B("li",{key:t.id,id:t.id,class:le([!t.isDependent||t.show?"pt-2 pb-5":"",t.show?"bg-slate-50  -mt-3 px-4 pt-2 rounded-lg":""])},[!t.isDependent||t.show?(g(),B(q,{key:0},[t.type===0?(g(),T($t,{key:0,isDisabled:R.includes(t.id),question:t,modelValue:t.answer.options,"onUpdate:modelValue":[o=>t.answer.options=o,o=>p(o,t,!0)]},null,8,["isDisabled","question","modelValue","onUpdate:modelValue"])):t.type===1?(g(),T(te,{key:1,helperText:t.helpQuestion,isReadonly:R.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(o,t)],type:"text",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===2?(g(),T(te,{key:2,helperText:t.helpQuestion,isReadonly:R.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(o,t)],type:"date",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===3?(g(),T(te,{key:3,helperText:t.helpQuestion,isReadonly:R.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(t.answer,t)],type:"number",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===50?(g(),T(Jt,{key:4,isDisabled:R.includes(t.id),question:t,modelValue:t.answer.text,"onUpdate:modelValue":o=>t.answer.text=o},null,8,["isDisabled","question","modelValue","onUpdate:modelValue"])):t.type===21?(g(),T(ea,{key:5,isRequired:t.isRequired==="true",isDisabled:R.includes(t.id),question:t,modelValue:t.answer.text,"onUpdate:modelValue":o=>t.answer.text=o},null,8,["isRequired","isDisabled","question","modelValue","onUpdate:modelValue"])):J("",!0),t.type===30?(g(),T(da,{key:6,question:t,modelValue:t.answer.options,"onUpdate:modelValue":[o=>t.answer.options=o,o=>p(o,t,!0)]},null,8,["question","modelValue","onUpdate:modelValue"])):t.type===20?(g(),T(aa,{key:7,isDisabled:R.includes(t.id),isRequired:t.isRequired==="true",question:t,modelValue:t.answer.text,"onUpdate:modelValue":o=>t.answer.text=o},null,8,["isDisabled","isRequired","question","modelValue","onUpdate:modelValue"])):t.type===4?(g(),T(pe,{key:8,isRequired:t.isRequired==="true",modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(o,t,m)],label:t.statement,error:t.error},null,8,["isRequired","modelValue","onUpdate:modelValue","label","error"])):t.type===6?(g(),T(Bt,{key:9,question:t,modelValue:t.answer.options,"onUpdate:modelValue":[o=>t.answer.options=o,o=>p(o,t,m)]},null,8,["question","modelValue","onUpdate:modelValue"])):t.type===8?(g(),T(te,{key:10,helperText:t.helpQuestion,isReadonly:R.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>V(o,t)],type:"email",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===9?(g(),T(te,{key:11,helperText:t.helpQuestion,isReadonly:R.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>$(o,t)],type:"tel",isRequired:t.isRequired==="true",label:t.statement,error:t.error},null,8,["helperText","isReadonly","modelValue","onUpdate:modelValue","isRequired","label","error"])):t.type===10?(g(),B(q,{key:12},[E(Zt,{question:t,isReadonly:R.includes(t.id),modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(t.answer,t)],error:!!t.error},null,8,["question","isReadonly","modelValue","onUpdate:modelValue","error"]),i("div",ma,[i("span",fa,C((w=t.error)==null?void 0:w.text),1)])],64)):t.type===11?(g(),B(q,{key:13},[E(Gt,{isReadonly:R.includes(t.id),question:t,modelValue:t.answer.text,"onUpdate:modelValue":[o=>t.answer.text=o,o=>p(t.answer,t)],error:!!t.error},null,8,["isReadonly","question","modelValue","onUpdate:modelValue","error"]),i("div",ba,[i("span",ga,C((_=t.error)==null?void 0:_.text),1)])],64)):J("",!0)],64)):J("",!0)],10,va)}),128))],512),i("div",xa,[Ee(u.$slots,"footer",{submit:k})])])]))}};const ha={class:"z-10 fixed right-2 top-1/2 block md:hidden"},wa=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-6"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"})],-1),Va={class:"text-sm sm:text-xl uppercase font-bold p-5 text-blue-950"},_a={class:"grid grid-cols-4 gap-4"},Sa=i("strong",null," Indicaciones: ",-1),Ra=i("p",null," Estudiantes Universitarios. Lea y responda todos los ítems de manera obligatoria, verídica y detallada. ",-1),ka=i("p",null," Los datos consignados son confidenciales (Según ley de protección de datos personales). ",-1),Oa={class:"col-span-4 lg:col-span-1 hidden md:block"},Ia={class:"col-span-4 lg:col-span-3 rounded-lg bg-white p-6 shadow-lg mb-4"},Ca={class:"text-3xl font-semibold mb-4 text-gray-700 first-letter:uppercase"},Da={class:"text-xl font-light uppercase flex items-center underline underline-offset-8 text-blue-800"},$a=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5 me-2"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z"})],-1),Ta={key:0,class:"text-center text-lg uppercase font-extrabold text-gray-400 align-items-center"},Pa={class:"grid md:grid-cols-2 w-full gap-4"},Ua={class:"previous"},Ea={class:"flex items-center justify-start"},Aa=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 self-center me-4 rotate-180"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),ja={class:"text-start"},Ba=i("p",{class:"font-light"},"Anterior",-1),Fa={class:"font-semibold text-lg first-letter:uppercase pb-0"},Na={class:"flex items-center justify-start"},La=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 self-center me-4 rotate-180"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),Ma={class:"text-start"},qa=i("p",{class:"font-light"},"Anterior",-1),za={class:"font-semibold text-lg first-letter:uppercase pb-0"},Qa={class:"nexts"},Ka={class:"flex items-center justify-end"},Ga={class:"text-end"},Ha={class:"font-light"},Xa={class:"uppercase"},Ya={class:"font-semibold text-lg first-letter:uppercase pb-0"},Za=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 self-center ms-4"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),Ja={class:"flex items-center justify-end"},Wa={class:"text-end"},el={class:"font-light"},tl={class:"uppercase"},al={class:"font-semibold text-lg first-letter:uppercase pb-0"},ll=i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6 self-center ms-4"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1),ol=i("div",{class:"text-end"},[i("span",null," Guardar "),i("h5",{class:"text-lg first-letter:uppercase"}," Finalizar ")],-1),il={class:"text-end"},sl={class:"flex items-center justify-end"},nl={class:"text-end"},rl={class:"font-light"},ul={class:"uppercase"},dl={class:"font-semibold text-lg first-letter:uppercase pb-0"},wl={__name:"survey",setup(e){const d=new Ae,v=new Ve,x=je(),l=Be(),a=S(null),r=S(null),c=S(null),n=S(null),p=S({show:!1,text:"null",type:"success"}),y=S({section:null,topic:null}),V=S({section:null,topic:null}),$=S({section:null,topic:null}),R=S(!1),h=S(!1),f=U=>{p.value=U,setTimeout(()=>{p.value=!1},1500)},s=()=>{window.scroll({top:80,left:0,behavior:"smooth"})},k=async()=>{h.value=!0,await v.finishSurvey(a.value.id)&&(a.value.hasFinished="true"),h.value=!1},D=async U=>{h.value=!0;let P=await t(U.id);P.length>0&&await x.setPositions(a.value.id,U.id,P[0].id)&&(a.value.topic=U.id,a.value.section=P[0].id,c.value=P,await H(a.value),n.value=await m(y.value.section.id)),h.value=!1},u=async U=>{h.value=!0;let P=await m(U.id);P.length>0&&await x.setPositions(a.value.id,y.value.topic.id,U.id)&&(a.value.section=U.id,await H(a.value),n.value=P),h.value=!1},b=async U=>await v.getTopics(U),t=async U=>await v.getSections(U),m=async U=>await v.getQuestions(U),w=(U,P)=>{let z=P.findIndex(Z=>U.id===Z.id);return z!==-1&&P.length!==z+1&&P.findIndex(G=>{var X;return((X=P[z+1])==null?void 0:X.id)===G.id})!==-1?P[z+1]:null},_=(U,P)=>{let z=P.findIndex(Z=>U.id===Z.id);return z!==-1&&z!==0&&P.findIndex(G=>{var X;return((X=P[z-1])==null?void 0:X.id)===G.id})!==-1?P[z-1]:null},o=async U=>{y.value.section=c.value.find(P=>P.id===U.section),y.value.topic=r.value.find(P=>P.id===U.topic)},I=async()=>{V.value.topic=w(y.value.topic,r.value),V.value.section=w(y.value.section,c.value)},A=async()=>{$.value.topic=_(y.value.topic,r.value),$.value.section=_(y.value.section,c.value)},H=async U=>{await o(U),await I(),await A()},Oe=async()=>{a.value=await v.getSurvey(l.params.id),a.value?a.value.topic&&a.value.section?(r.value=await b(a.value.id),c.value=await t(a.value.topic),n.value=await m(a.value.section),await H(a.value)):(d.back(),x.cont++):d.push({name:"home"})};return(async()=>{R.value=!0,await Oe(),R.value=!1})(),(U,P)=>(g(),T(Fe,null,{default:N(()=>{var z,Z;return[E(Le,{"enter-active-class":"transition duration-100 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:N(()=>[p.value.show?(g(),T(j(Ne),{key:0,class:le(["fixed top-4 right-2 z-20 shadow-lg border rounded",p.value.type==="success"?"border-green-200":"border-red-200"]),type:p.value.type,translate:"yes",transition:"left",divide:""},{default:N(()=>[K(C(p.value.text),1)]),_:1},8,["class","type"])):J("",!0)]),_:1}),R.value?(g(),B(q,{key:0},[R.value?(g(),T(he,{key:0})):J("",!0)],64)):(g(),B(q,{key:1},[i("div",ha,[E(Ke,null,{activator:N(({modal:G})=>[E(j(W),{onClick:G,color:"dark"},{default:N(()=>[wa]),_:2},1032,["onClick"])]),content:N(()=>[E(we,{changeTopic:D,topics:r.value,current:y.value.topic,isCompleted:a.value.hasFinished==="true"},null,8,["topics","current","isCompleted"])]),_:1})]),i("h2",Va,C(a.value.title),1),i("div",_a,[E(j(Me),{type:"info",class:"col-span-4",ref:"alert"},{default:N(()=>[Sa,Ra,ka]),_:1},512),i("div",Oa,[E(we,{class:"sticky top-2",changeTopic:D,topics:r.value,current:y.value.topic,isCompleted:a.value.hasFinished==="true"},null,8,["topics","current","isCompleted"])]),i("div",Ia,[i("h2",Ca,C((z=y.value.topic)==null?void 0:z.title),1),i("p",Da,[$a,K(" "+C((Z=y.value.section)==null?void 0:Z.title),1)]),c.value?(g(),B(q,{key:1},[h.value?(g(),T(he,{key:0})):(g(),T(ya,{key:1,questions:n.value,section:y.value.section,onOnSuccess:f,onOnFaild:f},{footer:N(({submit:G})=>[i("div",Pa,[i("div",Ua,[$.value.section&&a.value.hasFinished==="true"?(g(),T(j(W),{key:0,class:"w-full",onClick:P[0]||(P[0]=async()=>{await u($.value.section),s()})},{default:N(()=>[i("div",Ea,[Aa,i("div",ja,[Ba,i("h4",Fa,C($.value.section.title),1)])])]),_:1})):(g(),B(q,{key:1},[$.value.topic&&a.value.hasFinished==="true"?(g(),T(j(W),{key:0,color:"light",onClick:P[1]||(P[1]=async()=>{await D($.value.topic),s()}),class:"w-full"},{default:N(()=>[i("div",Na,[La,i("div",Ma,[qa,i("h4",za,C($.value.topic.title),1)])])]),_:1})):J("",!0)],64))]),i("div",Qa,[V.value.section?(g(),T(j(W),{key:0,onClick:async()=>{await G()&&(await u(V.value.section),s())},class:"w-full"},{default:N(()=>[i("div",Ka,[i("div",Ga,[i("p",Ha,[K(" Guardar ("),i("small",Xa,C(y.value.section.title),1),K(") ")]),i("h4",Ya,C(V.value.section.title),1)]),Za])]),_:2},1032,["onClick"])):(g(),B(q,{key:1},[V.value.topic!==null?(g(),T(j(W),{key:0,color:"light",onClick:async()=>{await G()&&(await D(V.value.topic),s())},class:"w-full"},{default:N(()=>[i("div",Ja,[i("div",Wa,[i("p",el,[K(" Guardar ("),i("small",tl,C(y.value.section.title),1),K(") ")]),i("h4",al,C(V.value.topic.title),1)]),ll])]),_:2},1032,["onClick"])):(g(),B(q,{key:1},[a.value.hasFinished==="false"?(g(),T(j(W),{key:0,color:"green",onClick:async()=>{await G()&&(await k(),s())},class:"w-full"},{default:N(()=>[ol]),_:2},1032,["onClick"])):(g(),T(j(W),{key:1,onClick:async()=>{await G()&&s()},class:"w-full"},{default:N(()=>[i("div",il,[i("div",sl,[i("div",nl,[i("p",rl,[K(" Guardar ("),i("small",ul,C(y.value.section.title),1),K(") ")]),i("h4",dl,C(y.value.section.title),1)])])])]),_:2},1032,["onClick"]))],64))],64))])])]),_:1},8,["questions","section"]))],64)):(g(),B("h4",Ta," no hay secciones "))])])],64))]}),_:1}))}};export{wl as default};
